{"version":3,"sources":["panels/components/loader.js","panels/components/horoscope.js","panels/components/user.js","panels/Home.js","App.js","index.js","panels/components/img/paper.png"],"names":["Loader","className","Horoscope","zodiac","user","tab","images","label","img","canvasRef","React","useRef","useState","hososcopeArr","setHoroscopeArr","womenHososcopeArr","setWomenHoroscopeArr","cake","setCake","useEffect","fetch","then","res","json","wallPost","text","link","bridge","send","attachments","message","source","owner_id","id","copyright","getFontHeight","font","parent","document","createElement","appendChild","createTextNode","body","style","cssText","height","offsetHeight","removeChild","storiesPost","blob","canvas","current","ctx","getContext","clearRect","width","fillStyle","strokeStyle","lineWidth","lineHeight","maxWidth","marginTop","words","split","countWords","length","line","n","testLine","measureText","marginLeft","strokeText","fillText","toDataURL","writeTop","background_type","url","locked","attachment","type","stickers","sticker_type","sticker","transform","relation_width","translation_y","can_delete","content_type","find","item","name","clickable_zones","action_type","action","tooltip_text_key","clickable_area","x","y","display","ref","window","innerWidth","innerHeight","icon","src","header","onClick","sign_teaser","sign","before","mode","stretched","marginRight","background","paper","textAlign","padding","color","User","disabled","size","photo_200","caption","bdate","bottom","title","first_name","last_name","Home","fetchedUser","setTab","setZodiac","zodiacArr","date","m","d","console","log","position","selected","App","activePanel","setActivePanel","setUser","popout","setPopout","a","subscribe","detail","data","schemeAttribute","createAttribute","value","scheme","attributes","setNamedItem","fetchData","go","e","currentTarget","dataset","to","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.31122a98.chunk.js","sourcesContent":["import React from \"react\";\nimport './loader.css'\nconst Loader = () => {\n  return (\n    <div className=\"container\">\n      <div className=\"item item-1\">\n\n      </div>\n      <div className=\"item item-2\">\n\n      </div>\n      <div className=\"item item-3\">\n\n      </div>\n      <div className=\"item item-4\">\n\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;\n","import React, { useState, useEffect } from 'react';\r\nimport {Button, Placeholder} from \"@vkontakte/vkui\";\r\nimport Icon24ShareOutline from \"@vkontakte/icons/dist/24/share_outline\";\r\nimport Icon24StoryOutline from \"@vkontakte/icons/dist/24/story_outline\";\r\nimport Loader from \"./loader\";\r\nimport bridge from \"@vkontakte/vk-bridge\";\r\nimport paper from './img/paper.png'\r\n\r\nconst Horoscope = ({zodiac, user, tab}) => {\r\n    const images = [\r\n        {label: 'aries', img: 'https://24tv.ua/resources/photos/news/720x553_DIR/202005/1351979_14172597.png'},\r\n        {label: 'taurus', img: 'https://24tv.ua/resources/photos/news/720x553_DIR/202005/1351979_14172432.png'},\r\n        {label: 'gemini', img: 'https://24tv.ua/resources/photos/news/720x553_DIR/202005/1351979_14172433.png'},\r\n        {label: 'cancer', img: 'https://24tv.ua/resources/photos/news/720x553_DIR/202005/1351979_14172427.png'},\r\n        {label: 'leo', img: 'https://24tv.ua/resources/photos/news/720x553_DIR/202005/1351979_14172428.png'},\r\n        {label: 'virgo', img: 'https://24tv.ua/resources/photos/news/720x540_DIR/202005/1351979_14172434.png'},\r\n        {label: 'libra', img: 'https://24tv.ua/resources/photos/news/720x522_DIR/202005/1351979_14172429.png'},\r\n        {label: 'scorpio', img: 'https://24tv.ua/resources/photos/news/720x553_DIR/202005/1351979_14172435.png'},\r\n        {label: 'sagittarius', img: 'https://24tv.ua/resources/photos/news/720x538_DIR/202005/1351979_14172437.png'},\r\n        {label: 'capricorn', img: 'https://24tv.ua/resources/photos/news/720x574_DIR/202005/1351979_14172436.png'},\r\n        {label: 'aquarius', img: 'https://24tv.ua/resources/photos/news/720x520_DIR/202005/1351979_14172430.png'},\r\n        {label: 'pisces', img: 'https://24tv.ua/resources/photos/news/720x538_DIR/202005/1351979_14172431.png'}\r\n    ];\r\n    const canvasRef = React.useRef(null);\r\n    const [hososcopeArr, setHoroscopeArr] = useState(null);\r\n    const [womenHososcopeArr, setWomenHoroscopeArr] = useState(null);\r\n    const [cake, setCake] = useState(null);\r\n    useEffect(()=>{\r\n        if (tab === 'Секс-гороскоп') {\r\n            fetch('https://mysterious-garden-57052.herokuapp.com/horoscope/sex')\r\n                .then(res=>res.json())\r\n                .then(res=>{\r\n                    setHoroscopeArr(res)\r\n                })\r\n        } else if(tab==='Женский'){\r\n            fetch('https://mysterious-garden-57052.herokuapp.com/horoscope/women')\r\n                .then(res=>res.json())\r\n                .then(res=>{\r\n                    setWomenHoroscopeArr(res)\r\n                })\r\n        } else {\r\n            fetch('https://mysterious-garden-57052.herokuapp.com/horoscope/cake')\r\n                .then(res=>res.json())\r\n                .then(res=>{\r\n                    setCake(res)\r\n                })\r\n        }\r\n    }, [tab]);\r\n    const wallPost = (text) => {\r\n        const link = \"https://vk.com/app7617614\";\r\n        bridge.send(\"VKWebAppShowWallPostBox\", {\r\n            attachments: link,\r\n            message:\r\n                zodiac.label + \" - \" + hososcopeArr.source + \"\\n\" +\r\n                text +\r\n                \"\\n\",\r\n            owner_id: user.id,\r\n            copyright: link,\r\n        });\r\n    };\r\n\r\n    function writeTop(text) {\r\n        const canvas = canvasRef.current;\r\n        const ctx = canvas.getContext('2d')\r\n        ctx.clearRect(0,0,canvas.width,canvas.height)\r\n        ctx.fillStyle = 'white';\r\n        ctx.font = 'normal 27px Oswald';\r\n        ctx.strokeStyle = 'black';\r\n        ctx.lineWidth = 6;\r\n        let lineHeight = getFontHeight(ctx.font);\r\n        let maxWidth = canvas.width;\r\n        let marginTop = getFontHeight(ctx.font);\r\n        let words = text.split(\" \");\r\n        let countWords = words.length;\r\n        let line = \"\";\r\n        for (let n = 0; n < countWords; n++) {\r\n            let testLine = line + words[n] + \" \";\r\n            let testWidth = ctx.measureText(testLine).width;\r\n            if (testWidth > maxWidth) {\r\n                let marginLeft = ((canvas.width - ctx.measureText(line).width)/2)\r\n                ctx.strokeText(line, marginLeft, marginTop);\r\n                ctx.fillText(line, marginLeft, marginTop);\r\n                line = words[n] + \" \";\r\n                marginTop += lineHeight;\r\n            }\r\n            else {\r\n                line = testLine;\r\n            }\r\n        }\r\n        let marginLeft = ((canvas.width - ctx.measureText(line).width)/2)\r\n        ctx.strokeText(line, marginLeft, marginTop);\r\n        ctx.fillText(line, marginLeft, marginTop);\r\n        return canvas.toDataURL(\"image/png\")\r\n    }\r\n    function getFontHeight(font) {\r\n        let parent = document.createElement(\"span\");\r\n        parent.appendChild(document.createTextNode(\"height\"));\r\n        document.body.appendChild(parent);\r\n        parent.style.cssText = \"font: \" + font + \"; white-space: nowrap; display: inline;\";\r\n        let height = parent.offsetHeight;\r\n        document.body.removeChild(parent);\r\n        return height;\r\n    }\r\n\r\n    const storiesPost = (text) => {\r\n        const blob = writeTop(zodiac.label + \" - \" + hososcopeArr.source + \"\\n\" + text);\r\n        const link = \"https://vk.com/app7617614\";\r\n        bridge.send(\"VKWebAppShowStoryBox\", {\r\n            background_type: \"image\",\r\n            url:\r\n                \"https://i.pinimg.com/736x/3b/3a/11/3b3a11b5dd823830adf94eba98cd9060.jpg\",\r\n            locked: true,\r\n            attachment: {\r\n                text: \"view\",\r\n                type: \"url\",\r\n                url: link,\r\n            },\r\n            stickers: [\r\n                {\r\n                    sticker_type: \"renderable\",\r\n                    sticker: {\r\n                        transform: {\r\n                            relation_width: 0.9,\r\n                            translation_y: 0.25,\r\n                        },\r\n                        can_delete: 0,\r\n                        content_type: \"image\",\r\n                        url: images.find(item=>item.label === zodiac.name).img,\r\n                        clickable_zones: [\r\n                            {\r\n                                // \"action_type\": \"app\",\r\n                                action_type: \"link\",\r\n                                action: {\r\n                                    link:link,\r\n                                    tooltip_text_key: \"tooltip_open_page\",\r\n                                },\r\n                                clickable_area: [\r\n                                    {\r\n                                        x: 0,\r\n                                        y: 0,\r\n                                    },\r\n                                    {\r\n                                        x: 884,\r\n                                        y: 0,\r\n                                    },\r\n                                    {\r\n                                        x: 884,\r\n                                        y: 196,\r\n                                    },\r\n                                    {\r\n                                        x: 0,\r\n                                        y: 196,\r\n                                    },\r\n                                ],\r\n                            },\r\n                        ],\r\n                    },\r\n                },\r\n                {\r\n                    sticker_type: \"renderable\",\r\n                    sticker: {\r\n                        transform: {\r\n                            relation_width: 0.9,\r\n                            translation_y: -0.4,\r\n                        },\r\n                        can_delete: 0,\r\n                        content_type: \"image\",\r\n                        blob: blob,\r\n                        clickable_zones: [\r\n                            {\r\n                                // \"action_type\": \"app\",\r\n                                action_type: \"link\",\r\n                                action: {\r\n                                    link:link,\r\n                                    tooltip_text_key: \"tooltip_open_page\",\r\n                                },\r\n                                clickable_area: [\r\n                                    {\r\n                                        x: 0,\r\n                                        y: 0,\r\n                                    },\r\n                                    {\r\n                                        x: 884,\r\n                                        y: 0,\r\n                                    },\r\n                                    {\r\n                                        x: 884,\r\n                                        y: 196,\r\n                                    },\r\n                                    {\r\n                                        x: 0,\r\n                                        y: 196,\r\n                                    },\r\n                                ],\r\n                            },\r\n                        ],\r\n                    },\r\n                },\r\n            ],\r\n        });\r\n    };\r\n    if (tab==='Эротический'){\r\n        return hososcopeArr !== null && zodiac !== null ?\r\n            <>\r\n                <canvas\r\n                    style={{display: 'none'}}\r\n                    ref={canvasRef}\r\n                    width={window.innerWidth}\r\n                    height={window.innerHeight}\r\n                />\r\n                <Placeholder\r\n                    icon={<img height={100} width={130} src={images.find(item=>item.label === zodiac.name).img}/>}\r\n                    header={zodiac.label + \" - \" + hososcopeArr.source}\r\n                    action={\r\n                        <div style={{display: 'flex'}}>\r\n                            <Button onClick={()=>wallPost(hososcopeArr.sign_teaser.find(item=>item.sign === zodiac.name).text)} before={<Icon24ShareOutline />} mode={'outline'} stretched style={{marginRight: 8}}>На стену</Button>\r\n                            <Button onClick={()=>storiesPost(hososcopeArr.sign_teaser.find(item=>item.sign === zodiac.name).text)} before={<Icon24StoryOutline />} mode={'outline'} stretched>В историю</Button>\r\n                        </div>\r\n                    }\r\n                >\r\n                    {hososcopeArr.sign_teaser.find(item=>item.sign === zodiac.name).text}\r\n                </Placeholder></> :\r\n            <Loader/>\r\n    } else if(tab==='Женский'){\r\n        return womenHososcopeArr !== null && zodiac !== null ?\r\n            <>\r\n                <canvas\r\n                    style={{display: 'none'}}\r\n                    ref={canvasRef}\r\n                    width={window.innerWidth}\r\n                    height={window.innerHeight}\r\n                />\r\n                <Placeholder\r\n                    icon={<img height={100} width={130} src={images.find(item=>item.label === zodiac.name).img}/>}\r\n                    header={zodiac.label + \" - \" + womenHososcopeArr.source}\r\n                    action={\r\n                        <div style={{display: 'flex'}}>\r\n                            <Button onClick={()=>wallPost(womenHososcopeArr.text.find(item=>item.sign === zodiac.name).text)} before={<Icon24ShareOutline />} mode={'outline'} stretched style={{marginRight: 8}}>На стену</Button>\r\n                            <Button onClick={()=>storiesPost(womenHososcopeArr.text.find(item=>item.sign === zodiac.name).text)} before={<Icon24StoryOutline />} mode={'outline'} stretched>В историю</Button>\r\n                        </div>\r\n                    }\r\n                >\r\n                    {womenHososcopeArr.text.find(item=>item.sign === zodiac.name).text}\r\n                </Placeholder></> :\r\n            <Loader/>\r\n    } else {\r\n        return <div style={{background: 'url('+paper+') center no-repeat', textAlign: 'center', padding: 60, color: 'black'}}>{cake}</div>\r\n    }\r\n};\r\n\r\nexport default Horoscope;","import React from 'react';\r\nimport {RichCell, Avatar} from \"@vkontakte/vkui\";\r\n\r\nconst User = ({user, zodiac}) => {\r\n    return user !== null && zodiac !== null ?\r\n        <RichCell\r\n            disabled\r\n            before={<Avatar size={72} src={user.photo_200 || null} />}\r\n            caption={\"Дата рождения - \"+user.bdate}\r\n            bottom={zodiac.title}\r\n        >\r\n            {user.first_name + \" \" + user.last_name}\r\n        </RichCell> : null\r\n};\r\n\r\nexport default User;","import React, {useState, useEffect} from 'react';\r\nimport Horoscope from \"./components/horoscope\";\r\nimport User from \"./components/user\";\r\nimport {Panel, PanelHeader, TabsItem, Tabs, Button, Placeholder} from \"@vkontakte/vkui\";\r\nimport Loader from \"./components/loader\";\r\n\r\nconst Home = ({id, fetchedUser}) => {\r\n    const [tab, setTab] = useState('Печенька');\r\n    const [zodiac, setZodiac] = useState(null);\r\n    let zodiacArr = [\r\n        [1, '', '', ''],\r\n        [19, 'Козерог (22.12–19.1)', 'Земля', 'Сатурн', 'capricorn', 'Козерог'],\r\n        [18, 'Водолей (20.1–18.2)', 'Воздух', 'Сатурн, Уран', 'aquarius', 'Водолей'],\r\n        [20, 'Рыбы (19.2–20.3)', 'Вода', 'Юпитер, Нептун', 'pisces', 'Рыбы'],\r\n        [19, 'Овен (21.3–19.4)', 'Огонь', 'Марс', 'aries', 'Овен'],\r\n        [20, 'Телец (20.4–20.5)', 'Земля', 'Венера', 'taurus', 'Телец'],\r\n        [21, 'Близнецы (21.5–21.6)', 'Воздух', 'Меркурий', 'gemini', 'Близнецы'],\r\n        [22, 'Рак (22.6–22.7)', 'Вода', 'Луна', 'cancer', 'Рак'],\r\n        [22, 'Лев (23.7–22.8)', 'Огонь', 'Солнце', 'leo', 'Лев'],\r\n        [22, 'Дева (23.8–22.9)', 'Земля', 'Меркурий', 'virgo', 'Дева'],\r\n        [22, 'Весы (23.9–22.10)', 'Воздух', 'Венера', 'libra', 'Весы'],\r\n        [22, 'Скорпион (23.10–22.11)', 'Вода', 'Марс, Плутон', 'scorpio', 'Скорпион'],\r\n        [21, 'Стрелец (23.11–21.12)', 'Огонь', 'Юпитер', 'sagittarius', 'Стрелец']\r\n    ];\r\n    useEffect(() => {\r\n        if (fetchedUser !== null) {\r\n            const date = fetchedUser.bdate.split('.')\r\n            let m = date[1];\r\n            let d = date[0];\r\n            if (d < 1 || d > 31) {\r\n                m = 0;\r\n                d = 0;\r\n            }\r\n            if (m < 1 || m > 12) {\r\n                m = 0;\r\n                d = 0;\r\n            }\r\n            if (d > zodiacArr[m][0]) m += 1;\r\n            if (m > 12) m = 1;\r\n            if (zodiacArr[m][1] !== '') {\r\n                setZodiac({title: zodiacArr[m][1], name: zodiacArr[m][4], label: zodiacArr[m][5]});\r\n            } else {\r\n                console.log('error')\r\n            }\r\n        }\r\n    }, [fetchedUser]);\r\n    return zodiac !== null ?\r\n        <Panel id={id}>\r\n            <PanelHeader style={{position: 'relative !important'}}>Гороскопус</PanelHeader>\r\n            <Tabs>\r\n                <TabsItem\r\n                    onClick={() => setTab('Печенька')}\r\n                    selected={tab === 'Печенька'}\r\n                >\r\n                    Печенька\r\n                </TabsItem>\r\n                <TabsItem\r\n                    onClick={() => setTab('Эротический')}\r\n                    selected={tab === 'Эротический'}\r\n                >\r\n                    Секс-гороскоп\r\n                </TabsItem>\r\n                <TabsItem\r\n                    onClick={() => setTab('Женский')}\r\n                    selected={tab === 'Женский'}\r\n                >\r\n                    Женский гороскоп\r\n                </TabsItem>\r\n            </Tabs>\r\n            <User user={fetchedUser} zodiac={zodiac}/>\r\n            <Horoscope zodiac={zodiac} user={fetchedUser} tab={tab}/>\r\n        </Panel> :\r\n        <Panel id={id}>\r\n            <PanelHeader>Гороскопус</PanelHeader>\r\n            <Placeholder\r\n                stretched\r\n                icon={<Loader/>}\r\n            />\r\n        </Panel>\r\n\r\n};\r\n\r\nexport default Home;","import React, { useState, useEffect } from 'react';\nimport bridge from \"@vkontakte/vk-bridge\";\nimport View from '@vkontakte/vkui/dist/components/View/View';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport './style.css'\n\nimport Home from './panels/Home';\n\nconst App = () => {\n\tconst [activePanel, setActivePanel] = useState('home');\n\tconst [fetchedUser, setUser] = useState(null);\n\tconst [popout, setPopout] = useState(null);\n\n\tuseEffect(() => {\n\t\tbridge.subscribe(({ detail: { type, data }}) => {\n\t\t\tif (type === 'VKWebAppUpdateConfig') {\n\t\t\t\tconst schemeAttribute = document.createAttribute('scheme');\n\t\t\t\tschemeAttribute.value = data.scheme ? data.scheme : 'client_light';\n\t\t\t\tdocument.body.attributes.setNamedItem(schemeAttribute);\n\t\t\t}\n\t\t});\n\t\tasync function fetchData() {\n\t\t\tconst user = await bridge.send('VKWebAppGetUserInfo');\n\t\t\tsetUser(user);\n\t\t\tsetPopout(null);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\tconst go = e => {\n\t\tsetActivePanel(e.currentTarget.dataset.to);\n\t};\n\n\treturn (\n\t\t<View activePanel={activePanel} popout={popout}>\n\t\t\t<Home id='home' fetchedUser={fetchedUser} go={go} />\n\t\t</View>\n\t);\n}\n\nexport default App;\n\n","import \"core-js/features/map\";\nimport \"core-js/features/set\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport bridge from \"@vkontakte/vk-bridge\";\nimport App from \"./App\";\n\n// Init VK  Mini App\nbridge.send(\"VKWebAppInit\");\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","module.exports = __webpack_public_path__ + \"static/media/paper.5342dbbb.png\";"],"sourceRoot":""}